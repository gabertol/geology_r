concordia(type=1,
alpha=0.05,
#tlim = c(3000,2500),
#omit=c(5),
#omit = c(13,6,3,4,9,2,11,5,16,8,7,1),
#hide = c(13,6,3,4,9,2,11,5,16,8,7,1),
#xlim = c(15,20),
#ylim = c(0.5,0.7),
ticks = 5,
show.numbers = T,
show.age = 1)
conc_JR_LOWER
conc_JR_LOWER
conc_JR_LOWER<- jr14 %>%
as_tibble() %>%
cbind(age_JR$t.76,age_JR$s.76,age_JR$t.68,age_JR$s.68,age_JR$conc) %>%
filter(age_JR$t.76>2300,
age_JR$conc>95&age_JR$conc<105) %>%
type.convert(na=c("","NA")) %>%
select(ratio7.5,s7.5,ratio6.8,s6.8,ratio7.6,s7.6,rho) %>%
round(digits = 8) %>%
read.data(method="U-Pb",
format=3,
ierr = 3) %>%
concordia(type=1,
alpha=0.05,
#tlim = c(3000,2500),
#omit=c(5),
#omit = c(13,6,3,4,9,2,11,5,16,8,7,1),
#hide = c(13,6,3,4,9,2,11,5,16,8,7,1),
#xlim = c(15,20),
#ylim = c(0.5,0.7),
ticks = 5,
show.numbers = T,
show.age = 1)
conc_JR_Upper<- jr14 %>%
as_tibble() %>%
cbind(age_JR$t.76,age_JR$s.76,age_JR$t.68,age_JR$s.68,age_JR$conc) %>%
#filter(age_JR$t.76<2400,
#       age_JR$conc>90&age_JR$conc<110) %>%
type.convert(na=c("","NA")) %>%
select(ratio7.5,s7.5,ratio6.8,s6.8,rho) %>%
round(digits = 8) %>%
read.data(method="U-Pb",format=1,ierr = 3) %>%
concordia(type=1,
alpha=0.05,
#tlim = c(3000,200),
#omit = c(6,3,13),
#hide = c(16,13,6,3,12,10,14,15,4,2,9,5),
#xlim = c(),
#ylim = c(),
ticks = 5,
show.numbers = T,
show.age = 1)
conc_JR_Upper<- jr14 %>%
as_tibble() %>%
cbind(age_JR$t.76,age_JR$s.76,age_JR$t.68,age_JR$s.68,age_JR$conc) %>%
#filter(age_JR$t.76<2400,
#       age_JR$conc>90&age_JR$conc<110) %>%
type.convert(na=c("","NA")) %>%
select(ratio7.5,s7.5,ratio6.8,s6.8,rho) %>%
round(digits = 8) %>%
read.data(method="U-Pb",format=1,ierr = 3) %>%
concordia(type=1,
alpha=0.05,
#tlim = c(3000,200),
#omit = c(6,3,13),
#hide = c(16,13,6,3,12,10,14,15,4,2,9,5),
#xlim = c(),
#ylim = c(),
ticks = 5,
show.numbers = T,
show.age = 1)
conc_JR_Upper<- jr14 %>%
as_tibble() %>%
cbind(age_JR$t.76,age_JR$s.76,age_JR$t.68,age_JR$s.68,age_JR$conc) %>%
filter(age_JR$t.76<2400,
age_JR$conc>90&age_JR$conc<110) %>%
type.convert(na=c("","NA")) %>%
select(ratio7.5,s7.5,ratio6.8,s6.8,rho) %>%
round(digits = 8) %>%
read.data(method="U-Pb",format=1,ierr = 3) %>%
concordia(type=1,
alpha=0.05,
#tlim = c(3000,200),
#omit = c(6,3,13),
#hide = c(16,13,6,3,12,10,14,15,4,2,9,5),
#xlim = c(),
#ylim = c(),
ticks = 5,
show.numbers = T,
show.age = 1)
library(flipbookr)
??chunk_reveal
knitr::opts_chunk$set(fig.width = 6, message = FALSE, warning = FALSE, comment = "", cache = F)
library(flipbookr)
read.csv("petrophysics_bertolini_2020.csv", sep=";") %>%
as_tibble() %>%
drop_na(p_wave,s_wave) %>%
ggplot(aes(x=p_wave,
y=s_wave)) +
geom_point(aes(col=density,
size=porosity))+
geom_smooth(method="lm")+
stat_cor(aes(label=paste(..r.label..,..p.label.., sep="~','~")),
method="spearman")+
labs(title="",
x="P-Wave velocity (km/s)",
y="S-Wave velocity (km/s)")+
theme_bw()
library(tidyverse)
read.csv("petrophysics_bertolini_2020.csv", sep=";") %>%
as_tibble() %>%
drop_na(p_wave,s_wave) %>%
ggplot(aes(x=p_wave,
y=s_wave)) +
geom_point(aes(col=density,
size=porosity))+
geom_smooth(method="lm")+
stat_cor(aes(label=paste(..r.label..,..p.label.., sep="~','~")),
method="spearman")+
labs(title="",
x="P-Wave velocity (km/s)",
y="S-Wave velocity (km/s)")+
theme_bw()
library(ggpubr)
read.csv("petrophysics_bertolini_2020.csv", sep=";") %>%
as_tibble() %>%
drop_na(p_wave,s_wave) %>%
ggplot(aes(x=p_wave,
y=s_wave)) +
geom_point(aes(col=density,
size=porosity))+
geom_smooth(method="lm")+
stat_cor(aes(label=paste(..r.label..,..p.label.., sep="~','~")),
method="spearman")+
labs(title="",
x="P-Wave velocity (km/s)",
y="S-Wave velocity (km/s)")+
theme_bw()
read.csv("petrophysics_bertolini_2020.csv", sep=";") %>%
as_tibble() %>%
drop_na(p_wave,s_wave) %>%
ggplot(aes(x=p_wave,
y=s_wave)) +
geom_point(aes(col=density,
size=porosity))+
geom_smooth(method="lm")+
stat_cor(aes(label=paste(..r.label..,..p.label.., sep="~','~")),
method="spearman")+
labs(title="Petrophysical correlation Botucatu Formation ",
x="P-Wave velocity (km/s)",
y="S-Wave velocity (km/s)",
source="Bertolini et al. (2020)")+
theme_bw()
read.csv("petrophysics_bertolini_2020.csv", sep=";") %>%
as_tibble() %>%
drop_na(p_wave,s_wave) %>%
ggplot(aes(x=p_wave,
y=s_wave)) +
geom_point(aes(col=density,
size=porosity))+
geom_smooth(method="lm")+
stat_cor(aes(label=paste(..r.label..,..p.label.., sep="~','~")),
method="spearman")+
labs(title="Petrophysical correlation Botucatu Formation ",
x="P-Wave velocity (km/s)",
y="S-Wave velocity (km/s)",
caption="Bertolini et al. (2020)")+
theme_bw()
read.csv("petrophysics_bertolini_2020.csv", sep=";") %>%
as_tibble() %>%
drop_na(p_wave,s_wave) %>%
ggplot(aes(x=p_wave,
y=s_wave)) +
geom_point(aes(col=density,
size=porosity))+
geom_smooth(method="lm")+
stat_cor(aes(label=paste(..r.label..,..p.label.., sep="~','~")),
method="spearman")+
labs(title="Petrophysical correlation Botucatu Formation",
x="P-Wave velocity (km/s)",
y="S-Wave velocity (km/s)",
caption="Bertolini et al. (2020)")+
theme_bw()
read.csv("petrophysics_bertolini_2020.csv", sep=";") %>%
as_tibble() %>%
drop_na(p_wave,s_wave) %>%
ggplot(aes(x=p_wave,
y=s_wave)) +
geom_point(aes(col=density,
size=porosity))+
geom_smooth(method="lm")+
stat_cor(aes(label=paste(..r.label..,..p.label.., sep="~','~")),
method="spearman")+
labs(title="Petrophysical correlation Botucatu Formation",
x="P-Wave velocity (km/s)",
y="S-Wave velocity (km/s)",
caption="Bertolini et al. (2020)")+
theme_bw()
read.csv("petrophysics_bertolini_2020.csv", sep=";") %>%
as_tibble() %>%
drop_na(p_wave,s_wave) %>%
ggplot(aes(x=p_wave,
y=s_wave)) +
geom_point(aes(col=density,
size=porosity))+
geom_smooth(method="lm")+
stat_cor(aes(label=paste(..r.label..,..p.label.., sep="~','~")),
method="spearman")+
labs(
x="P-Wave velocity (km/s)",
y="S-Wave velocity (km/s)",
caption="Bertolini et al. (2020)")+
theme_bw()
read.csv("petrophysics_bertolini_2020.csv", sep=";") %>%
as_tibble() %>%
drop_na(p_wave,s_wave) %>%
ggplot(aes(x=p_wave,
y=s_wave)) +
geom_point(aes(col=density,
size=porosity))+
geom_smooth(method="lm")+
stat_cor(aes(label=paste(..r.label..,..p.label.., sep="~','~")),
method="spearman")+
labs(
x="P-Wave velocity (km/s)",
y="S-Wave velocity (km/s)",
caption="Bertolini et al. (2020)")+
theme_bw()
read.csv("petrophysics_bertolini_2020.csv", sep=";") %>%
as_tibble() %>%
drop_na(p_wave,s_wave) %>%
ggplot(aes(x=p_wave,
y=s_wave)) +
geom_point(aes(col=density,
size=porosity))+
geom_smooth(method="lm")+
stat_cor(aes(label=paste(..r.label..,..p.label.., sep="~','~")),
method="spearman")+
labs(
x="P-Wave velocity (km/s)",
y="S-Wave velocity (km/s)",
caption="Bertolini et al. (2020)")+
theme_bw()
read.csv("petrophysics_bertolini_2020.csv", sep=";") %>%
as_tibble() %>%
drop_na(p_wave,s_wave) %>%
ggplot(aes(x=p_wave,
y=s_wave)) +
geom_point(aes(col=density,
size=porosity))+
geom_smooth(method="lm")+
stat_cor(aes(label=paste(..r.label..,..p.label.., sep="~','~")),
method="spearman")+
labs(title="Petrophysical correlation Botucatu Formation ",
x="P-Wave velocity (km/s)",
y="S-Wave velocity (km/s)")+
theme_bw()
read.csv("petrophysics_bertolini_2020.csv", sep=";") %>%
as_tibble() %>%
drop_na(p_wave,s_wave) %>%
ggplot(aes(x=p_wave,
y=s_wave)) +
geom_point(aes(col=density,
size=porosity))+
geom_smooth(method="lm")+
stat_cor(aes(label=paste(..r.label..,..p.label.., sep="~','~")),
method="spearman")+
labs(title="Petrophysical correlation Botucatu Formation ",
x="P-Wave velocity (km/s)",
y="S-Wave velocity (km/s)",
caption = "Bertolini et al. (2020)")+
theme_bw()
read.csv("petrophysics_bertolini_2020.csv", sep=";") %>%
as_tibble() %>%
drop_na(p_wave,s_wave) %>%
ggplot(aes(x=p_wave,
y=s_wave)) +
geom_point(aes(col=density,
size=porosity))+
geom_smooth(method="lm")+
stat_cor(aes(label=paste(..r.label..,..p.label.., sep="~','~")),
method="spearman")+
labs(title="Petrophysical correlation Botucatu Formation ",
x="P-Wave velocity (km/s)",
y="S-Wave velocity (km/s)",caption = "Bertolini et al. (2020)")+
theme_bw()
read.csv("petrophysics_bertolini_2020.csv", sep=";") %>%
as_tibble() %>%
drop_na(p_wave,s_wave) %>%
ggplot(aes(x=p_wave,
y=s_wave)) +
geom_point(aes(col=density,
size=porosity))+
geom_smooth(method="lm")+
stat_cor(aes(label=paste(..r.label..,..p.label.., sep="~','~")),
method="spearman")+
labs(title="Petrophysical correlation Botucatu Formation ",
x="P-Wave velocity (km/s)",
y="S-Wave velocity (km/s)",
subtitle = "Bertolini et al. (2020)")+
theme_bw()
read.csv("petrophysics_bertolini_2020.csv", sep=";") %>%
as_tibble() %>%
drop_na(p_wave,s_wave) %>%
ggplot(aes(x=p_wave,
y=s_wave)) +
geom_point(aes(col=density,
size=porosity))+
geom_smooth(method="lm")+
stat_cor(aes(label=paste(..r.label..,..p.label.., sep="~','~")),
method="spearman")+
labs(title="Petrophysical correlation Botucatu Formation ",
x="P-Wave velocity (km/s)",
y="S-Wave velocity (km/s)",
subtitle = "Source= Bertolini et al. (2020)")+
theme_bw()
to_gif(from = "tst_1.Rmd")
remotes::install_github("jhelvy/renderthis", dependencies = TRUE)
to_gif(from = "tst_1.Rmd")
library(rasterthis)
library(renderthis)
to_gif(from = "tst_1.Rmd")
@media print {
.has-continuation {
display: block;
}
}
library(knitr
# flipbook_filepath can be either the rmd or html location of the flipbook
flipbook_to_gif <- function(flipbook_filepath,
density = 100,
delay = 1,
env_pdf = rlang::caller_env()){
filepath <- fs::path_ext_remove(flipbook_filepath)
filepath_pdf <- fs::path_ext_set(filepath, "pdf")
filepath_gif <- fs::path_ext_set(filepath, "gif")
env_pdf$flipbook_filepath <- flipbook_filepath
with(env_pdf, pagedown::chrome_print(flipbook_filepath))
images <- magick::image_read_pdf(filepath_pdf, density = density)
magick::image_write_gif(images,
filepath_gif,
delay = delay)
}
flipbook_to_gif <- function(flipbook_filepath,
density = 100,
delay = 1,
env_pdf = rlang::caller_env()){
filepath <- fs::path_ext_remove(flipbook_filepath)
filepath_pdf <- fs::path_ext_set(filepath, "pdf")
filepath_gif <- fs::path_ext_set(filepath, "gif")
env_pdf$flipbook_filepath <- flipbook_filepath
with(env_pdf, pagedown::chrome_print(flipbook_filepath))
images <- magick::image_read_pdf(filepath_pdf, density = density)
magick::image_write_gif(images,
filepath_gif,
delay = delay)
}
# create gif of example from R for Data Science book
flipbook_to_gif(here::here("tst_1.Rmd"))
install.packages("here")
library(here)
# create gif of example from R for Data Science book
flipbook_to_gif(here::here("tst_1.Rmd"))
install.packages("gifski")
library(gifski)
# create gif of example from R for Data Science book
flipbook_to_gif(here::here("tst_1.Rmd"))
read.csv(file="geoquim_granite.csv",
sep=";")  %>%
select(Tectonic_setting,SiO2:P2O5) %>%
drop_na() %>%
group_by(Tectonic_setting) %>%
mutate(across(cols=TiO2:P2O5,
.fns = as.double)) %>%
pivot_longer(cols = TiO2:P2O5,
names_to="Major_element",
values_to="values") %>%
ggplot(aes(x=Major_element,
y=values,
color=Major_element,
fill=Major_element)) +
geom_boxplot()+
facet_wrap(~Tectonic_setting)+
theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))
# create gif of example from R for Data Science book
flipbook_to_gif(here::here("tst_2.Rmd"))
library(sf)
library(mapview)
library(geobr)
knitr::opts_chunk$set(fig.width = 6, message = FALSE, warning = FALSE, comment = "", cache = F)
library(flipbookr)
library(tidyverse)
library(ggpubr)
library(sf)
library(mapview)
library(geobr)
st_read("./shape/riograndedosul_lito.shp") %>%
dplyr::select(SIGLA_UNID,NOME_UNIDA) %>%
tidyr::drop_na(geometry) %>%
st_transform(crs=3857) %>%
st_intersection(.,read_municipality(code_muni= 4314902) %>%
st_transform(crs=3857) %>%
dplyr::select(geom)) %>%
mapview(.,zcol="SIGLA_UNID",alpha=0.5,lwd=3)
# create gif of example from R for Data Science book
flipbook_to_gif(here::here("tst_3.Rmd"))
library(devtools)
#install_github("ActiveMargins/stRatstat")
library(stRatstat)
launchstRatstat()
read.csv(file="geoquim_granite.csv",
sep=";")  %>%
dplyr::select(Tectonic_setting,SiO2:P2O5) %>%
drop_na() %>%
group_by(Tectonic_setting) %>%
mutate(across(cols=TiO2:P2O5,
.fns = as.double)) %>%
pivot_longer(cols = TiO2:P2O5,
names_to="Major_element",
values_to="values") %>%
arrange(desc(values)) %>%
ggplot(aes(x=Tectonic_setting,
y=values,
color=Tectonic_setting,
fill=Tectonic_setting)) +
geom_boxplot()+
scale_y_log10()+
facet_wrap(~Major_element,scales = "free_y")+
theme(legend=FALSE,axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))
library(tidyverse) # Importar packages
read.csv(file="geoquim_granite.csv",
sep=";")  %>%
dplyr::select(Tectonic_setting,SiO2:P2O5) %>%
drop_na() %>%
group_by(Tectonic_setting) %>%
mutate(across(cols=TiO2:P2O5,
.fns = as.double)) %>%
pivot_longer(cols = TiO2:P2O5,
names_to="Major_element",
values_to="values") %>%
arrange(desc(values)) %>%
ggplot(aes(x=Tectonic_setting,
y=values,
color=Tectonic_setting,
fill=Tectonic_setting)) +
geom_boxplot()+
scale_y_log10()+
facet_wrap(~Major_element,scales = "free_y")+
theme(legend=FALSE,axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))
read.csv(file="geoquim_granite.csv",
sep=";")  %>%
dplyr::select(Tectonic_setting,SiO2:P2O5) %>%
drop_na() %>%
group_by(Tectonic_setting) %>%
mutate(across(cols=TiO2:P2O5,
.fns = as.double)) %>%
pivot_longer(cols = TiO2:P2O5,
names_to="Major_element",
values_to="values") %>%
arrange(desc(values)) %>%
ggplot(aes(x=Tectonic_setting,
y=values,
color=Tectonic_setting,
fill=Tectonic_setting)) +
geom_boxplot()+
scale_y_log10()+
facet_wrap(~Major_element,scales = "free_y")+
theme(legend=FALSE,axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))
read.csv(file="geoquim_granite.csv",
sep=";")  %>%
dplyr::select(Tectonic_setting,SiO2:P2O5) %>%
drop_na() %>%
group_by(Tectonic_setting) %>%
mutate(across(cols=TiO2:P2O5,
.fns = as.double)) %>%
pivot_longer(cols = TiO2:P2O5,
names_to="Major_element",
values_to="values") %>%
arrange(desc(values)) %>%
ggplot(aes(x=Tectonic_setting,
y=values,
color=Tectonic_setting,
fill=Tectonic_setting)) +
geom_boxplot()+
scale_y_log10()+
facet_wrap(~Major_element,scales = "free_y")+
theme(legend.position = "none",axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))
read.csv(file="geoquim_granite.csv",
sep=";")  %>%
dplyr::select(Tectonic_setting,SiO2:P2O5) %>%
drop_na() %>%
group_by(Tectonic_setting) %>%
mutate(across(cols=TiO2:P2O5,
.fns = as.double)) %>%
pivot_longer(cols = TiO2:P2O5,
names_to="Major_element",
values_to="values") %>%
arrange(desc(values)) %>%
ggplot(aes(x=Tectonic_setting,
y=values,
fill=Tectonic_setting)) +
geom_boxplot()+
scale_y_log10()+
facet_wrap(~Major_element,scales = "free_y")+
theme(legend.position = "none",axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))
none
volcano
volcano
test1 <- c(1:5, "6,7", "8,9,10")
test1
